<!DOCTYPE html>
<!--
    Forty by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
  -->
<html>

<head>
	<title>All posts | Darkato</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="/assets/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="/assets/css/ie8.css" /><![endif]-->
	<link rel="shortcut icon" type="image/png" href="favicon.png">
</head>


<body>

  <!-- Wrapper -->
<div id="wrapper">

	<!-- Header -->
	<header id="header" >
		<a href="/" class="logo"><strong>Darkato</strong> <span>42</span></a>

		<nav>
			<a href="#search" id="search-button">
				<i class="fa fa-search"></i>
			</a>
			<a href="#menu">Menu</a>
		</nav>
	</header>

	<!-- Search -->
	<nav id="search">
		<i class="fa fa-search"></i>
		<input type="search" id="search-input" name="q" placeholder="Search..."
			aria-label="Search through site content">

		<ul id="results-container"></ul>
	</nav>

	<!-- Menu -->
	<nav id="menu">
		<ul class="links">
			
			
			
			
			
			
			<li><a href="/">Home</a></li>
			
			
			
			
			
			
			
			
			
			
			
			
			<li><a href="/all_posts.html">All posts</a></li>
			
			
			
			
			
			

			<li><a href="/mindmap.html">Knowledge Mind Map</a></li>
		</ul>
	<!-- <ul class="actions vertical">
		<li><a href="#" class="button special fit">Get Started</a></li>
		<li><a href="#" class="button fit">Log In</a></li>
	</ul> -->
	</nav>


  <!-- Main -->
  <div id="main" class="alt">

    <!-- One -->
    <section id="one" class="allposts">
      <!-- <div class="inner"> -->
        

        
        <article>
          <header class="major">
            <h1>Hyper CapsLock Unified</h1>
          </header>
          
          <p>19 May 2022</p>
          <p><h2 id="hyper-capslock-unified">Hyper CapsLock Unified</h2>

<p><a href="https://github.com/darkato42/Capslock">https://github.com/darkato42/Capslock</a></p>

<p>I‚Äôm an user switching between my work PC and my personal Mac for different coding projects. My goal is to create configurations so I can have almost identical experiences when on MacOS and Windows, with or without my small external ANSI 60 keyboard.</p>

<h3 id="highlights">Highlights</h3>

<p>Based on <a href="https://github.com/Vonng/Capslock">Vonng/Capslock</a>, some extra features are introduced:</p>

<ul>
  <li>Consistent shortcut combinations between MacOS and Windows with different keyboard layouts.</li>
  <li>Duplicated key combos for a greater redundancy, less typo and ease of use.</li>
  <li>Simplified to have only one extra modifier, the left <code class="language-plaintext highlighter-rouge">Cmd</code> key, when <code class="language-plaintext highlighter-rouge">Hyper</code> is used.</li>
  <li>Removed hard to reach and less used key combinations for better ergonomics.</li>
  <li>Remapped the app launch keys accoding to their initials.</li>
  <li>Remapped frequent IDE functions to keys with close semantic meanings, such as <code class="language-plaintext highlighter-rouge">-</code> and <code class="language-plaintext highlighter-rouge">+</code> for <strong>Fold</strong> and <strong>Unfold</strong>.</li>
  <li>Remapped <code class="language-plaintext highlighter-rouge">#</code>, <code class="language-plaintext highlighter-rouge">¬£</code>, <code class="language-plaintext highlighter-rouge">`</code> and <code class="language-plaintext highlighter-rouge">~</code>, so they are typed in consistent fashions across keyboard and OS.</li>
</ul>

<h3 id="ansi-60-key-and-keycap-change">ANSI 60 Key and Keycap change</h3>

<p>My external keyboard has a small ANSI 60 keys layout that is different from both my Mac and Windows laptop‚Äôs UK ISO keyboards. It‚Äôs reprogrammed with firmware to have the left modifier keys (<code class="language-plaintext highlighter-rouge">Ctrl</code>/<code class="language-plaintext highlighter-rouge">Win</code>/<code class="language-plaintext highlighter-rouge">Alt</code>) swapped to (<code class="language-plaintext highlighter-rouge">Ctrl_L</code>/<code class="language-plaintext highlighter-rouge">Alt</code>/<code class="language-plaintext highlighter-rouge">Ctrl_R</code>) to allow the same finger positions for the same Hyper shortcuts defined in both MacOS and Windows.</p>

<p><img src="/assets/images/posts/hyper-capslock/ansi-60-remapped.png" alt="ansi-60" /></p>

<hr />

<h2 id="capslock-enhancement-windows">CapsLock Enhancement Windows</h2>

<p>The additional <code class="language-plaintext highlighter-rouge">Ctrl_R</code> key gives a close <code class="language-plaintext highlighter-rouge">‚åò</code> experience when in Windows, While the original <code class="language-plaintext highlighter-rouge">Ctrl_L</code> key on the left makes Windows users feel at home by keeping Windows <code class="language-plaintext highlighter-rouge">Ctrl+</code> shortcuts unchanged.</p>

<p>Only the top <code class="language-plaintext highlighter-rouge">Hyper+</code> layer are kept for the middle <code class="language-plaintext highlighter-rouge">T</code>, <code class="language-plaintext highlighter-rouge">G</code>, <code class="language-plaintext highlighter-rouge">V</code> and <code class="language-plaintext highlighter-rouge">B</code> keys because they are difficult to reach for the <code class="language-plaintext highlighter-rouge">Hyper+Ctrl+</code> layer.</p>

<p><img src="/assets/images/posts/hyper-capslock/hyper-caps-lock-win.png" alt="hyper-win" /></p>

<hr />

<h2 id="capslock-enhancement-mac">CapsLock Enhancement Mac</h2>

<p>Mac keyboard layout is designed slightly different than normal ANSI/ISO layouts. Its wider and slighly left moved <code class="language-plaintext highlighter-rouge">‚åò</code> key is more ergonomics for usual <code class="language-plaintext highlighter-rouge">‚åò</code>+<code class="language-plaintext highlighter-rouge">C</code> or <code class="language-plaintext highlighter-rouge">‚åò</code>+<code class="language-plaintext highlighter-rouge">V</code>. And it allows slighly easier reach for <code class="language-plaintext highlighter-rouge">T</code>, <code class="language-plaintext highlighter-rouge">Y</code>, <code class="language-plaintext highlighter-rouge">G</code>, <code class="language-plaintext highlighter-rouge">V</code> and <code class="language-plaintext highlighter-rouge">B</code> keys when <code class="language-plaintext highlighter-rouge">CapsLock</code> and <code class="language-plaintext highlighter-rouge">‚åò</code> are both pressed.</p>

<p>Use <strong>Karabiner-Elements</strong>‚Äôs simple rule to change <code class="language-plaintext highlighter-rouge">Ctrl_R</code> to <code class="language-plaintext highlighter-rouge">Cmd_L</code> for the external ANSI keyboard only. All other complex rules defined in the JSON file can then be loaded for consistent Hyper features.</p>

<p><img src="/assets/images/posts/hyper-capslock/hyper-caps-lock-mac.png" alt="hyper-mac" /></p>

<h3 id="installation">Installation</h3>

<p>It only takes two steps to enable Capslock on your Mac: Download &amp; Enable</p>

<ol>
  <li>
    <p>Download</p>

    <p>Download &amp; Install <a href="https://karabiner-elements.pqrs.org/"><strong>Karabiner-Elements</strong></a>.</p>

    <p>Following the wizard and grant required permissions (Settings - Security - Privacy)</p>
  </li>
  <li>
    <p>Enable</p>

    <p>Open this <a href="karabiner://karabiner/assets/complex_modifications/import?url=https://raw.githubusercontent.com/darkato42/Capslock/master/mac/capslock.json">link</a> with Safari. It will launch Karabiner-Elements and import the configuration.</p>

    <p><code class="language-plaintext highlighter-rouge">karabiner://karabiner/assets/complex_modifications/import?url=https://raw.githubusercontent.com/darkato42/Capslock/master/mac/capslock.json</code></p>

    <p>Click <strong>Enable All</strong> on pop-up dialog. It will affect immediately.</p>

    <p>You can now try moving cursor with <code class="language-plaintext highlighter-rouge">‚á™ + h,j,k,l</code>.</p>
  </li>
</ol>
</p>
        </article>
        

        

        
        <article>
          <header class="major">
            <h1>Optimised Notion Keyboard Shortcuts</h1>
          </header>
          
          <p>18 May 2022</p>
          <p><h3 id="must-know-default-keyboard-shortcuts">Must-know Default Keyboard Shortcuts</h3>

<ul>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">N</code></strong>¬†to create a new page in workspace root (desktop apps only)</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">P</code></strong>¬†to open search or jump to a recently viewed page</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">[</code></strong>¬†to go back a page (same for any pages in browser)</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">]</code></strong>¬†to go forward a page (same for any pages in browser)</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">D</code></strong>¬†to duplicate current block</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">E</code></strong>¬†to mark selection as code</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">K</code></strong>¬†to add a link to a text selection</li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">esc</code></strong>¬†to select the block you‚Äôre currently in. Or to clear selected blocks.</li>
  <li>Type¬†<strong><code class="language-plaintext highlighter-rouge">---</code></strong>¬†to create a divider. (Three dashes in a row.)</li>
  <li>Duplicate any content on a Notion page by holding down¬†<strong><code class="language-plaintext highlighter-rouge">option/alt</code></strong>¬†as you drag and drop.</li>
  <li>Type¬†<code class="language-plaintext highlighter-rouge">:</code>¬†to search and add in-line emoji</li>
</ul>

<blockquote>
  <p>üí° <strong>Tip</strong>: You can also bring up your computer‚Äôs emoji picker with the shortcut.</p>

  <p>Mac:¬†<strong><code class="language-plaintext highlighter-rouge">ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">cmd</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">space</code></strong>¬†or <code class="language-plaintext highlighter-rouge">Fn(üåê)</code> + <strong><code class="language-plaintext highlighter-rouge">E</code></strong></p>

  <p>Windows: <strong><code class="language-plaintext highlighter-rouge">windows key</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">.</code></strong>or¬†<strong><code class="language-plaintext highlighter-rouge">windows key</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">;</code></strong>¬†on Windows.</p>
</blockquote>

<h3 id="my-optimised-keyboard-shortcuts">My Optimised Keyboard Shortcuts</h3>

<ul>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">CapsLock</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">A</code></strong> to open or switch to Notion with <a href="https://github.com/darkato42/Capslock/tree/master/mac">darkato42/Capslock (github.com)</a></li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">CapsLock</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">Tab</code></strong> to switch between Notion and other apps with <a href="https://github.com/darkato42/Capslock/tree/master/mac">darkato42/Capslock (github.com)</a></li>
  <li>Press¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+¬†<strong><code class="language-plaintext highlighter-rouge">H</code></strong>¬†to highlight a text selection</li>
</ul>

<p>To highlight text with the last used color in Notion is a bit cumbersome, which requires several mouse movements in different directions. And its default shortcut combination¬†<strong><code class="language-plaintext highlighter-rouge">cmd/ctrl</code></strong>¬†+ <strong><code class="language-plaintext highlighter-rouge">shift</code></strong> +¬†<strong><code class="language-plaintext highlighter-rouge">H</code></strong> is not ergonomic to press together.</p>
</p>
        </article>
        

        

        
        <article>
          <header class="major">
            <h1>Add favicon to a Jekyll site</h1>
          </header>
          
          <p>19 January 2022</p>
          <p><p><img src="/assets/images/posts/favicon-in-jekyll/favicon_darkato42.png" alt="result" /></p>

<h2 id="1-create-favicon-using-online-tools">1. Create favicon using online tools</h2>

<p>It‚Äôs very easy to create a simple favicon asset using <a href="https://favicon.io">favicon.io</a> or <a href="https://www.websiteplanet.com/webtools/favicon-generator/">websiteplanet‚Äôs favicon generator</a>.</p>

<h2 id="2-unzip-the-package-and-rename-the-chosen-file">2. Unzip the package and rename the chosen file</h2>

<p><img src="/assets/images/posts/favicon-in-jekyll/favicon_io.png" alt="favicon_io" /></p>

<p>Rename <code class="language-plaintext highlighter-rouge">favicon-32x32.png</code> to <code class="language-plaintext highlighter-rouge">favicon.png</code> and copy the file into root folder of your Jekyll repository.</p>

<h2 id="3-add-a-link-tag-in-the-headhtml">3. Add a link tag in the head.html</h2>

<p>Add <code class="language-plaintext highlighter-rouge">&lt;link rel="shortcut icon" type="image/png" href="favicon.png"&gt;</code></p>

<p>into <code class="language-plaintext highlighter-rouge">./_includes/head.html</code></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1, user-scalable=no"</span> <span class="nt">/&gt;</span>
	<span class="c">&lt;!--[if lte IE 8]&gt;&lt;script src="{{ "assets/js/ie/html5shiv.js" | relative_url }}"&gt;&lt;/script&gt;&lt;![endif]--&gt;</span>
	<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"{{ "</span><span class="na">assets</span><span class="err">/</span><span class="na">css</span><span class="err">/</span><span class="na">main.css</span><span class="err">"</span> <span class="err">|</span> <span class="na">relative_url</span> <span class="err">}}"</span> <span class="nt">/&gt;</span>
	<span class="c">&lt;!--[if lte IE 9]&gt;&lt;link rel="stylesheet" href="{{ "assets/css/ie9.css" | relative_url }}" /&gt;&lt;![endif]--&gt;</span>
	<span class="c">&lt;!--[if lte IE 8]&gt;&lt;link rel="stylesheet" href="{{ "assets/css/ie8.css" | relative_url }}" /&gt;&lt;![endif]--&gt;</span>
	<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"shortcut icon"</span> <span class="na">type=</span><span class="s">"image/png"</span> <span class="na">href=</span><span class="s">"favicon.png"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>

</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">head.html</code> is likely being used in all your html layouts similar to the below.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>

{% include head.html %}

<span class="nt">&lt;body&gt;</span>

	{% include header.html %}

	<span class="c">&lt;!-- Main --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"main"</span> <span class="na">class=</span><span class="s">"alt"</span><span class="nt">&gt;</span>

		<span class="c">&lt;!-- One --&gt;</span>
		<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"one"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"inner"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"major"</span><span class="nt">&gt;</span>
					<span class="nt">&lt;h1&gt;</span>{{ page.title }}<span class="nt">&lt;/h1&gt;</span>
				<span class="nt">&lt;/header&gt;</span>
				<span class="nt">&lt;blockquote&gt;</span>
					<span class="nt">&lt;p&gt;</span>{{ page.description}}<span class="nt">&lt;/p&gt;</span>
				<span class="nt">&lt;/blockquote&gt;</span>

				{{ content }}
			<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;/section&gt;</span>

	<span class="nt">&lt;/div&gt;</span>

	{% include footer.html %}

<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div>
</p>
        </article>
        

        

        
        <article>
          <header class="major">
            <h1>My .gitconfig</h1>
          </header>
          
          <p>08 January 2022</p>
          <p><p>To keep it short, use cases aren‚Äôt included in this post.</p>

<h3 id="ignore-files-for-all-repos">Ignore files for all repos</h3>

<ol>
  <li>Create a <code class="language-plaintext highlighter-rouge">~/.gitignore_global</code> file with these contents:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>~
.DS_Store
</code></pre></div></div>

<ol>
  <li>run <code class="language-plaintext highlighter-rouge">git config --global core.excludesfile ~/.gitignore_global</code></li>
</ol>

<h3 id="line-ending">Line ending</h3>

<p>On a <strong>Windows</strong> machine, set <code class="language-plaintext highlighter-rouge">core.autocrlf</code> to <code class="language-plaintext highlighter-rouge">true</code> ‚Äì this converts LF endings into
CRLF when you check out code:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf <span class="nb">true</span>
</code></pre></div></div>

<p>On a <strong>Linux</strong> or <strong>Mac</strong> system that uses LF line endings, then you don‚Äôt want Git to automatically convert them when you check out files; however, if a file with CRLF endings accidentally gets introduced, then you may want Git to fix it. You can tell Git to convert CRLF to LF on commit but not the other way around by setting <code class="language-plaintext highlighter-rouge">core.autocrlf</code> to <code class="language-plaintext highlighter-rouge">input</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> core.autocrlf input
</code></pre></div></div>

<h3 id="git-lfs">Git LFS</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git lfs <span class="nb">install</span>

<span class="c"># For repo with filesize &gt; 128MB</span>
git config http.version HTTP/1.1
</code></pre></div></div>

<p>There are some drawbacks on performance if <code class="language-plaintext highlighter-rouge">HTTP/1.1</code> is applied to global config.</p>

<p><code class="language-plaintext highlighter-rouge">git config --global --add http.version HTTP/1.1</code></p>

<p>ref:</p>

<p><a href="https://www.cloudflare.com/en-gb/learning/performance/http2-vs-http1.1/">HTTP/2 vs. HTTP/1.1: How do they affect web performance?</a></p>

<h3 id="git-aliases">Git Aliases</h3>

<ul>
  <li>Run e.g. <code class="language-plaintext highlighter-rouge">git config --global alias.co checkout</code> to add <code class="language-plaintext highlighter-rouge">co</code> as an alias for <code class="language-plaintext highlighter-rouge">checkout</code></li>
  <li>
    <p>Or edit the <code class="language-plaintext highlighter-rouge">~.gitconfig</code> file directly</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">[</span>filter <span class="s2">"lfs"</span><span class="o">]</span>
  	process <span class="o">=</span> git-lfs filter-process
  	required <span class="o">=</span> <span class="nb">true
  	</span>clean <span class="o">=</span> git-lfs clean <span class="nt">--</span> %f
  	smudge <span class="o">=</span> git-lfs smudge <span class="nt">--</span> %f
  <span class="o">[</span>user]
  	name <span class="o">=</span> Yulin Wu
  	email <span class="o">=</span> darkato@icloud.com
  <span class="o">[</span><span class="nb">alias</span><span class="o">]</span>
  	st <span class="o">=</span> status
  	co <span class="o">=</span> checkout
  	br <span class="o">=</span> branch
  	unstage <span class="o">=</span> reset HEAD <span class="nt">--</span>
  	last <span class="o">=</span> log <span class="nt">-1</span> HEAD
  	<span class="c"># adds all modified files to staging and allows you to type a commit message, e.g. git ac "updated README"</span>
  	ac <span class="o">=</span> <span class="o">!</span>git add <span class="nt">-A</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>To run an external command, rather than a Git subcommand. In that case, you start the command with a <code class="language-plaintext highlighter-rouge">!</code> character. This is useful if you write your own tools that work with a Git repository. We can demonstrate by aliasing git visual to run <code class="language-plaintext highlighter-rouge">gitk</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> alias.visual <span class="s2">"!gitk"</span>
</code></pre></div></div>

<h3 id="my-macos-gitconfig">My MacOS .gitconfig</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>filter <span class="s2">"lfs"</span><span class="o">]</span>
	process <span class="o">=</span> git-lfs filter-process
	required <span class="o">=</span> <span class="nb">true
	</span>clean <span class="o">=</span> git-lfs clean <span class="nt">--</span> %f
	smudge <span class="o">=</span> git-lfs smudge <span class="nt">--</span> %f
<span class="o">[</span>user]
	name <span class="o">=</span> Yulin Wu
	email <span class="o">=</span> darkato@icloud.com
<span class="o">[</span><span class="nb">alias</span><span class="o">]</span>
	st <span class="o">=</span> status
	co <span class="o">=</span> checkout
	br <span class="o">=</span> branch
	unstage <span class="o">=</span> reset HEAD <span class="nt">--</span>
	last <span class="o">=</span> log <span class="nt">-1</span> HEAD
	<span class="c"># adds all modified files to staging and allows you to type a commit message, e.g. git ac "updated README"</span>
	ac <span class="o">=</span> <span class="o">!</span>git add <span class="nt">-A</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span>
<span class="o">[</span>core]
	autocrlf <span class="o">=</span> input
</code></pre></div></div>
</p>
        </article>
        

        

        
        <article>
          <header class="major">
            <h1>SOLID Principle with C# Examples</h1>
          </header>
          
          <p>22 November 2018</p>
          <p><p>The following notes are taken while reading this <a href="https://www.codeproject.com/Tips/1033646/SOLID-Principle-with-Csharp-Example">post</a> on codeproject. Code examples are directly from the post.</p>

<h2 id="about-solid">About SOLID</h2>
<ul>
  <li><strong>S</strong>: Single responsibility principle (SRP)</li>
  <li><strong>O</strong>: Open closed principle (OCP)</li>
  <li><strong>L</strong>: Liskov substitution principle (LSP)</li>
  <li><strong>I</strong>: Interface segregation principle (ISP)</li>
  <li><strong>D</strong>: Dependency injection principle (DIP)</li>
</ul>

<h3 id="single-responsibility-principle-srp">Single responsibility principle (SRP)</h3>

<p>A bad example that Employee class takes two responsibilities of employee database operation and employee report generation.</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">SRP</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Employee</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">Employee_Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Employee_Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// This method used to insert into employee table</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="em"&gt;Employee object&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;Successfully inserted or not&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="nf">InsertIntoEmployeeTable</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Insert into employee table.</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Method to generate report</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="em"&gt;&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Report generation with employee data using crystal report.</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>According to SRP, one class should take one responsibility so we should write one different class for report generation, so that any change in report generation should not affect the ‚ÄòEmployee‚Äô class.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">SRP</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Employee</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">Employee_Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Employee_Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// This method used to insert into employee table</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="em"&gt;Employee object&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;Successfully inserted or not&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="nf">InsertIntoEmployeeTable</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Insert into employee table.</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ReportGeneration</span>
    <span class="p">{</span>
         <span class="c1">/// &lt;summary&gt;</span>
         <span class="c1">/// Method to generate report</span>
         <span class="c1">/// &lt;/summary&gt;</span>
         <span class="c1">/// &lt;param name="em"&gt;&lt;/param&gt;</span>
         <span class="k">public</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
         <span class="p">{</span>
             <span class="c1">// Report reneration with employee data.</span>
         <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>N.B. In practice, for projects I worked on, a repository pattern could be used here for CRUD database operations for Exployee entities. Therefore, you will have a simple POCO class for Employee class objects. And database operations are in the repository layer, for example EmployeeRepo.</p>

<h3 id="open-closed-principle-ocp">Open closed principle (OCP)</h3>
<p>Open for extension but closed for modification.</p>

<p>A bad example with too many ‚ÄòIF‚Äô statements. Everytime when we want to introduce another new report type like ‚ÄòExcel‚Äô, then another ‚ÄòIF‚Äô is required.</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">ReportGeneration</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Report type</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ReportType</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Method to generate report</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="em"&gt;&lt;/param&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ReportType</span> <span class="p">==</span> <span class="s">"CRS"</span><span class="p">)</span>
        <span class="p">{</span>
             <span class="c1">// Report generation with employee data in Crystal Report.</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ReportType</span> <span class="p">==</span> <span class="s">"PDF"</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Report generation with employee data in PDF.</span>
        <span class="p">}</span>
     <span class="p">}</span>
 <span class="p">}</span>
</code></pre></div></div>

<p>Define a base type ReportGenerationBase that every types of report can inherit from. So the ReportGenerationBase is open for extension but also closed for modification.</p>

<p>The <code class="language-plaintext highlighter-rouge">virtual</code> keyword allows the method to be overridden by any class that inherits it.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">ReportGenerationBase</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Method to generate report</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="em"&gt;&lt;/param&gt;</span>
    <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// From base</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Class to generate Crystal report</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">CrystalReportGeneraion</span> <span class="p">:</span> <span class="n">IReportGeneration</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Generate crystal report.</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Class to generate PDF report</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">PDFReportGeneraion</span> <span class="p">:</span> <span class="n">IReportGeneration</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">GenerateReport</span><span class="p">(</span><span class="n">Employee</span> <span class="n">em</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Generate PDF report.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="liskov-substitution-principle-lsp">Liskov substitution principle (LSP)</h3>
<p>Child class should not break parent class‚Äôs type definition and behavior. Another interesting thing to pay attention to is <a href="https://stackoverflow.com/a/1030573/5098156">mutability</a> when discussing LSP.</p>

<p>A classic example is Rectangle and Square.</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// A base class of Rectangle with **virtual** properties. </span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Rectangle</span> 
<span class="p">{</span>
    <span class="k">public</span> <span class="k">virtual</span> <span class="kt">int</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">virtual</span> <span class="kt">int</span> <span class="n">Width</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Square</span> <span class="p">:</span> <span class="n">Rectangle</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_height</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_width</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">override</span> <span class="kt">int</span> <span class="n">Height</span>
    <span class="p">{</span>
        <span class="k">get</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">_height</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">set</span>   <span class="c1">// Here is the main problem: Exposing the set method makes the Square class mutable</span>
        <span class="p">{</span>
            <span class="n">_height</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
            <span class="n">_width</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="kt">int</span> <span class="n">Width</span>
    <span class="p">{</span>
        <span class="k">get</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">_width</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">set</span>
        <span class="p">{</span>
            <span class="n">_width</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
            <span class="n">_height</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">AreaCalculator</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">int</span> <span class="nf">CalculateArea</span><span class="p">(</span><span class="n">Rectangle</span> <span class="n">r</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">.</span><span class="n">Height</span> <span class="p">*</span> <span class="n">r</span><span class="p">.</span><span class="n">Width</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">int</span> <span class="nf">CalculateArea</span><span class="p">(</span><span class="n">Square</span> <span class="n">s</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">Height</span> <span class="p">*</span> <span class="n">s</span><span class="p">.</span><span class="n">Height</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="n">TestMethod</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">TwentyFourfor4x6RectanglefromSquare</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Rectangle</span> <span class="n">newRectangle</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Square</span><span class="p">();</span>
    <span class="n">newRectangle</span><span class="p">.</span><span class="n">Height</span> <span class="p">=</span> <span class="m">4</span><span class="p">;</span>
    <span class="n">newRectangle</span><span class="p">.</span><span class="n">Width</span> <span class="p">=</span> <span class="m">6</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">AreaCalculator</span><span class="p">.</span><span class="nf">CalculateArea</span><span class="p">(</span><span class="n">newRectangle</span><span class="p">);</span>
    <span class="n">Assert</span><span class="p">.</span><span class="nf">AreEqual</span><span class="p">(</span><span class="m">24</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>    <span class="c1">// Behaviour is broken for the parent Rectangle class.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The fix is shown below using the abstract class <code class="language-plaintext highlighter-rouge">Shape</code></p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span>  <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Shape</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="kt">int</span> <span class="nf">Area</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Rectangle</span> <span class="p">:</span><span class="n">Shape</span>
<span class="p">{</span>
    <span class="k">public</span>  <span class="kt">int</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span>  <span class="kt">int</span> <span class="n">Width</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="kt">int</span> <span class="nf">Area</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">Height</span> <span class="p">*</span> <span class="n">Width</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Square</span> <span class="p">:</span> <span class="n">Shape</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Sides</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">};</span>
    <span class="k">public</span> <span class="k">override</span> <span class="kt">int</span> <span class="nf">Area</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">Sides</span> <span class="p">*</span> <span class="n">Sides</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Then with <code class="language-plaintext highlighter-rouge">Shape</code>, <code class="language-plaintext highlighter-rouge">Rectangle</code> and <code class="language-plaintext highlighter-rouge">Square</code> are not parent and child relationship anymore. They can only have that relationship when the objects created are immutable. Therefore, a square is a rectangle and always will be.</p>

<h3 id="interface-segregation-principle-isp">Interface segregation principle (ISP)</h3>
<p>Any client should not be forced to use an interface which is irrelevant to it.</p>

<p>Bad code example:</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">IEmployee</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">AddEmployeeDetails</span><span class="p">();</span>  <span class="c1">// Applicable to all employee types</span>
    <span class="kt">bool</span> <span class="nf">ShowEmployeeDetails</span><span class="p">(</span><span class="kt">int</span> <span class="n">employeeId</span><span class="p">);</span>   <span class="c1">// Only apply to Permanent Employees</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">PermanentEmployee</span> <span class="p">:</span> <span class="n">IEmployee</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">AddEmployeeDetails</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Implementation goes here.</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="nf">ShowEmployeeDetails</span><span class="p">(</span><span class="kt">int</span> <span class="n">employeeId</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Implementation goes here.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">NonPermanentEmployee</span> <span class="p">:</span> <span class="n">IEmployee</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">AddEmployeeDetails</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="nf">ShowEmployeeDetails</span><span class="p">(</span><span class="kt">int</span> <span class="n">employeeId</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// N/A to this class.</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>With only one interface for both types of employees, the <code class="language-plaintext highlighter-rouge">NonPermanentEmployee</code> class is forced to implement the method of <code class="language-plaintext highlighter-rouge">ShowEmployeeDetails(int employeeId)</code>. To correct it, we can split the responsibilities of Add and Show into two interfaces.</p>

<p>Fix:</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">IAddOperation</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">AddEmployeeDetails</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">public</span> <span class="k">interface</span> <span class="nc">IGetOperation</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="nf">ShowEmployeeDetails</span><span class="p">(</span><span class="kt">int</span> <span class="n">employeeId</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">PermanentEmployee</span> <span class="p">:</span> <span class="n">IAddOperation</span><span class="p">,</span> <span class="n">IGetOperation</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">NonPermanentEmployee</span> <span class="p">:</span> <span class="n">IAddOperation</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="dependency-inversion-principle-dip">Dependency inversion principle (DIP)</h3>
<p>https://www.exceptionnotfound.net/simply-solid-the-dependency-inversion-principle/</p>

<p>This principle is primarily concerned with reducing dependencies amongst the code modules. 
The DIP is comprised of two rules:</p>
<ul>
  <li>High-level modules should not depend on low-level modules. Both should depend on abstractions.</li>
  <li>Abstrctions should not depend on details. Details should depend on abstractions.</li>
</ul>

<p>Another classic/trite example is building a notifications client that is able to send email and SMS text notifications.</p>

<p>Bad example with highly coupled code using concrete classes.</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Email</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ToAddress</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Subject</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Content</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SendEmail</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//Send email</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">SMS</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">PhoneNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Message</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SendSMS</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//Send sms</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Notification</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">Email</span> <span class="n">_email</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">SMS</span> <span class="n">_sms</span><span class="p">;</span>
    <span class="k">public</span> <span class="nf">Notification</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_email</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Email</span><span class="p">();</span>
        <span class="n">_sms</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SMS</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Send</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_email</span><span class="p">.</span><span class="nf">SendEmail</span><span class="p">();</span>
        <span class="n">_sms</span><span class="p">.</span><span class="nf">SendSMS</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Fix: Introduce an abstration that Notification can rely on and that Email and SMS can implement.</p>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">IMessage</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">SendMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Email and SMS can implement IMessage</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Email</span> <span class="p">:</span> <span class="n">IMessage</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ToAddress</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Subject</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Content</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SendMessage</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//Send email</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">SMS</span> <span class="p">:</span> <span class="n">IMessage</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">PhoneNumber</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Message</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SendMessage</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//Send sms</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Make Notification depend on the abstraction IMessage rather than its concrete implementations</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Notification</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">ICollection</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;</span> <span class="n">_messages</span><span class="p">;</span>

    <span class="c1">// Constructor Injection</span>
    <span class="k">public</span> <span class="nf">Notification</span><span class="p">(</span><span class="n">ICollection</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;</span> <span class="n">messages</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">_messages</span> <span class="p">=</span> <span class="n">messages</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Send</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">message</span> <span class="k">in</span> <span class="n">_messages</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">message</span><span class="p">.</span><span class="nf">SendMessage</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>There are 3 types for doing DI, Constructor Injection, Property Injection and Method Injection. It feels to me the Constructor Injection is the most intuitive one which can be achieved via SimpleInjector etc. I haven‚Äôt got too much experiences in terms of the other two.</p>
</p>
        </article>
        

        

        
        <article>
          <header class="major">
            <h1>Object-Oriented Programming Fundamentals</h1>
          </header>
          
          <p>14 September 2017</p>
          <p><h2 id="four-pillars-of-oop"><a href="https://www.quora.com/What-are-the-4-pillars-of-OOPs">Four Pillars of OOP</a>:</h2>
<ol>
  <li>Encapsulation</li>
  <li>Abstraction</li>
  <li>Inheritance</li>
  <li>Polymorphism</li>
</ol>

<h3 id="encapsulation">Encapsulation</h3>
<p>Encapsulation is a process of binding data members (variables, properties) and member functions (methods) together. In OOP, we achieve encapsulation through Class.</p>

<h3 id="abstraction">Abstraction</h3>
<p>Abstraction is the process of showing only essential/necessary features of an entity/object to the outside world and hide the other irrelevant information.</p>

<h3 id="inheritance">Inheritance</h3>
<p>The process of creating the new class by extending the the existing class is called inheritance or the process of inheriting the features of base class is called as inheritance.</p>

<h3 id="polymorphism">Polymorphism</h3>
<p>Poly means many and Morph means forms. Polymorphism is the process in which an object or function take different forms. It is a feature, which lets us create functions with same name but different arguments, which will perform differently. That is function with same name, functioning in different way. Or, it also allows us to redefine a function to provide its new definition.</p>
</p>
        </article>
        

        
      <!-- </div> -->
    </section>

  </div>

  

<!-- Footer -->
	<footer id="footer">
		<div class="inner">
			<ul class="icons">
				
					
						<li>
							<a href="https://github.com/darkato42" class="icon alt fa-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
								<span class="label">GitHub</span>
							</a>
						</li>
					
				
					
				
					
				
					
				
					
						<li>
							<a href="https://www.linkedin.com/in/yulin-wu/" class="icon alt fa-linkedin" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
								<span class="label">LinkedIn</span>
							</a>
						</li>
					
				
					
				
					
				
					
				
				<li>
					<a href="mailto:me+42@wu-yulin.com" class="icon alt fa-envelope" target="_blank" rel="noopener noreferrer" aria-label="mail">
						<span class="label">Email</span>
					</a>
				</li>
			</ul>
			<ul class="copyright">
				<li>&copy; Darkato 42</li>
			</ul>
		</div>
	</footer>

</div>

<!-- Scripts -->
	<script src="/assets/js/jquery.min.js"></script>
	<script src="/assets/js/jquery.scrolly.min.js"></script>
	<script src="/assets/js/jquery.scrollex.min.js"></script>
	<script src="/assets/js/skel.min.js"></script>
	<script src="/assets/js/util.js"></script>
	<script src="/assets/js/search.js"></script>
	<!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js"></script><![endif]-->
	<script src="/assets/js/main.js"></script>

	<script>
		SimpleJekyllSearch({
			searchInput: document.getElementById('search-input'),
			resultsContainer: document.getElementById('results-container'),
			json: '/search.json'
		})
	</script>

</body>

</html>